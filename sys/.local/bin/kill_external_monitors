#!/bin/bash

LAPTOP_MONITOR="eDP-1"
EXTERNAL_MONITORS=$(xrandr -q | awk '/ connected / {print $1}' | grep -v $LAPTOP_MONITOR)

function kill_monitor(){
    echo "Unplugging $1"
    xrandr --output $1 --off
}

function kill_external_monitors(){
    for monitor in $EXTERNAL_MONITORS; do
        kill_monitor $monitor
    done
}

case ${1} in
    -a)
        kill_external_monitors;;
    --all)
        kill_external_monitors;;
    -s)
        kill_monitor $1;;
    --help)
        echo "Usage: command [OPTION]"
        echo " -a, --all        kill all external monitors"
        echo " -s               kill specified monitor"
        ;;
    *)
        echo "Unknown command."
        echo "Try 'command --help' for more information."
        ;;
esac